# comment the above line and uncomment the next line to enable nvidia hw transcoding
#youtube-dl -f bestvideo+bestaudio --recode-video mp4 -o "%(channel)s - %(title)s.%(ext)s" --postprocessor-args 'ffmpeg:-hwaccel cuda' "$@"
/usr/local/bin/yt-dlp \
-f bestvideo+bestaudio \
--recode-video mp4 -o  "%(channel)s - %(title)s.%(ext)s" "$@" \
--download-archive downloaded.txt \
--retries 20 \
--retry-sleep exp=1:2 \
--fragment-retries 20 \
--file-access-retries 3 \
--sponsorblock-remove "all" \
--concurrent-fragments $(nproc) \
--no-check-certificate \
--write-thumbnail \
--add-metadata \
--write-description \
--embed-thumbnail
